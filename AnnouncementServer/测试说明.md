# 公告系统测试说明

## 测试步骤

1. 启动服务端
   ```
   cd AnnouncementServer
   python app.py
   ```

2. 测试API
   ```
   curl http://localhost:8080/api/announcements/latest
   ```
   应该返回JSON格式的公告数据

3. 访问管理界面
   ```
   http://localhost:8080/admin
   ```

4. 添加新公告并上传图片

5. 启动XIGUASecurity应用
   - 3秒后应该显示公告对话框
   - 显示标题、发布时间和内容
   - 显示图片数量（如"图片: 2 张"）

## 已修复的问题

1. **图片路径**：服务端现在返回完整URL（http://localhost:8080/uploads/xxx.jpg）
2. **日期格式**：使用下划线替代冒号，避免显示问题
3. **界面布局**：简化了公告对话框，移除了复杂的图片加载逻辑

## 注意事项

- 如果服务端和客户端在不同机器，需要修改AnnouncementService.cs中的ServerUrl
- 图片存储在uploads目录，确保有足够空间
- 公告数据保存在announcements.json文件