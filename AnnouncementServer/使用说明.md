# XIGUASecurity 公告系统使用说明

## 系统概述
XIGUASecurity公告系统由两部分组成：
1. Python服务端：提供API接口和Web管理界面
2. C#客户端：在应用启动时显示公告

## 使用步骤

### 1. 启动服务端
1. 进入AnnouncementServer目录
2. 安装依赖：`pip install -r requirements.txt`
3. 启动服务器：`python app.py`
4. 访问 http://localhost:8080/admin 进行管理

### 2. 管理公告
1. 在Web界面中点击"添加新公告"
2. 填写标题和内容（支持HTML格式）
3. 可选择上传图片
4. 可标记为重要公告
5. 点击"保存"

### 3. 客户端显示
1. 启动XIGUASecurity应用
2. 应用会在启动3秒后自动检查并显示最新公告
3. 用户可以选择"我知道了"或"稍后查看"
4. 已读公告不会重复显示

## 技术细节

### 服务端
- 使用Flask框架
- 数据存储在announcements.json文件
- 图片存储在uploads目录
- 支持RESTful API接口

### 客户端
- 使用ContentDialog显示公告
- 支持富文本和图片显示
- 记录已读公告ID，避免重复显示

## 故障排除

### 网页加载慢
- 已优化HTML，移除了CKEditor，改用简单textarea
- 确保本地网络连接正常

### 客户端不显示公告
- 确保服务端已启动
- 检查API是否可访问：http://localhost:8080/api/announcements/latest
- 确保announcements.json文件存在且有内容

### 图片不显示
- 检查uploads目录是否存在
- 确保图片文件路径正确
- 检查图片格式是否支持

## 安全注意事项
1. 服务端仅建议在内部网络使用
2. 不要暴露到公网
3. 定期备份announcements.json文件